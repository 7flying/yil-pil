<!--
  The navigation UI that is docked to the top of the window. Most of this markup simply
  follows Bootstrap conventions. The only Knockout-specific parts are the data-bind
  attributes on the <li> elements.
-->
<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" 
        data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">
        <span class=" glyphicon glyphicon-globe" aria-hidden="true"></span>
        Yil-Pil
      </a>
    </div>
    <div class="collapse navbar-collapse navbar-left">
      <form class="navbar-form navbar-left" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search"
          data-bind="value:query, valueUpdate: 'input', executeOnEnter: sendQuery">
        </div>
      </form>
    </div>
    <div class="collapse navbar-collapse navbar-right">
      <ul class="nav navbar-nav">
        <li data-bind="css: { active: route().page === 'home-page' }">
          <a href="#">Home</a>
        </li>
        <li data-bind="css: { active: route().page === 'rankings-page' }">
          <a href="#rankings">Rankings</a>
        </li>
        <li data-bind="css: { active: route().page === 'editor-page' }">
          <a href="#editor">New post!</a>
        </li>
        <!-- ko ifnot: user -->
        <li data-bind="css: { active: route().page === 'sign-in-page' }">
          <a href="#login">Sign In</a>
        </li>
        <li data-bind="css: { active: route().page === 'sign-up-page' }">
          <a href="#join">Sign Up</a>
        </li>
        <!-- /ko -->
        <li data-bind="css: { active: route().page === 'about-page' }">
          <a href="#about">About</a>
        </li>
        <!-- ko if: user -->
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <span class="glyphicon glyphicon-user"></span> 
              <strong data-bind='text: user'></strong>
              <span class="glyphicon glyphicon-chevron-down"></span>
          </a>
          <ul class="dropdown-menu" role="menu">
            <li><a data-bind='attr: {href: "#user/" + user()}'>Profile</a></li>
            <li><a data-bind='attr: {href: "#settings/" + user()}'>Settings</a></li>
            <li class="divider"></li>
            <li data-bind='click: logout'><a href="#">Logout</a></li>
          </ul>
        </li>
        <!-- /ko -->
      </ul>
    </div>
  </div>
</div>
